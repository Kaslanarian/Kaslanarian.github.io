---
layout:     post
title:      ROS学习（1）
subtitle:   熟悉环境
date:       2021-03-15
author:     Welt Xing
header-img: img/robot_header.jpg
catalog:    true
tags:
    - 机器人学
---

官方网站：<http://wiki.ros.org/cn/ROS/Tutorials>

## 安装配置

### 1.1 安装ROS

你可以在[这里](http://wiki.ros.org/cn/ROS/Installation)完成安装.

### 1.2 创建ROS工作空间

```bash
mkdir -p ~/catkin_ws/src
cd ~/catkin_ws/
catkin_make
```

## 文件系统工具

### 2.1 使用rospack

输入：

```bash
rospack find [package_name]
```

就可以返回该包所在的路径，比如：

```bash
rospack find roscpp
```

就会输出

```bash
/opt/ros/noetic/share/roscpp
```

### 2.2 使用roscd

输入：

```bash
roscd roscpp
```

这是就会进入路径：`/opt/ros/noetic/share/roscpp`.

你也可以用该命令切换到制定目录：

```bash
roscd roscpp/cmake
```

就会切换到`/opt/ros/noetic/share/roscpp/cmake`.

### 2.3 使用rosls

该命令允许你直接按软件包的名成人能够执行`ls`命令：

```bash
rosls [locationname[/subdir]]
```

比如：

```bash
rosls roscpp_tutorials
```

就会输出：

```bash
cmake launch package.xml  srv
```

## 创建ROS软件包

### 3.1 一个catkin软件包由什么构成

一个包要想称为catkin软件包，必须符合以下要求：

* 这个包必须有一个符合catkin规范的package.xml文件（该文件提供的是该软件包的元信息）.

* 这个包必须有一个catkin版本的CMakeLists.txt文件.

* 每个包必须有自己的目录，意味着在同一个目录下不能有嵌套的或者多个软件包存在.

就像这样：

```bash
my_package/
  CMakeLists.txt
  package.xml
```

### 3.2 catkin工作空间中的软件包

我们按照[上文](https://welts.xyz/2021/03/15/ros-learn/#12-%E5%88%9B%E5%BB%BAros%E5%B7%A5%E4%BD%9C%E7%A9%BA%E9%97%B4)创建工作空间，我们可以使用这个工作空间去开发catkin软件包.

一个简单的工作空间如下所示：

```bash
workspace_folder/        -- WORKSPACE
  src/                   -- SOURCE SPACE
    CMakeLists.txt       -- 'Toplevel' CMake file, provided by catkin
    package_1/
      CMakeLists.txt     -- CMakeLists.txt file for package_1
      package.xml        -- Package manifest for package_1
    ...
    package_n/
      CMakeLists.txt     -- CMakeLists.txt file for package_n
      package.xml        -- Package manifest for package_n
```

### 3.3 创建catkin软件包

切换到工作空间目录，使用`catkin_create_pkg`命令创建名为`beginner_tutorials`的新软件包，这个软件包依赖于std_msgs、roscpp和rospy：

```bash
cd ~/catkin_ws/src
catkin_create_pkg beginner_tutorials std_msgs rospy roscpp
```

## 理解ROS图

